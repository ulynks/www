<div id="homeCarousel" class="carousel slide mb-6" data-bs-ride="carousel">
  <!--
  <div class="carousel-indicators">
    {{/*
    {{ range $i, $pages := where .Site.RegularPages.Reverse "Section" "expertise" }}

    <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="{{ $i }}" {{ if eq $i 0 }} class="active"
      aria-current="true" {{ end }}aria-label="{{ .LinkTitle }}"></button>

    {{ end }}
    */}}
  </div>
-->
  <div class="carousel-inner">

    {{/* reverse so that the most recent event appears first  */}}
    {{ range $i, $pages := where .Site.RegularPages.Reverse "Section" "expertise" }}

    {{ $href := .RelPermalink }}
    {{ $icon := .RelPermalink }}
    {{ $icon = replace $icon "expertise" "carousel" }}
    {{ $icon = trim $icon "/" }}

    {{ if in .LinkTitle "Apps" }}
    {{ $href = "#" }}
    {{ else if in .LinkTitle "Data" }}
    {{ $href = "#" }}
    {{ end }}

    <div class="carousel-item{{ if eq $i 0 }} active{{ end }}">
      <img src="/{{ $icon }}.svg" class="d-block w-100 img-vertical-center" alt="{{ .LinkTitle }}">
      <div class="container">
        <div class="carousel-caption text-start text-white p-3">
          <div class="container">
            <h1>{{ .LinkTitle }}</h1>
            <p class="opacity-75">{{ .Description | safeHTML | truncate 150 }}</p>
            <p><a class="btn btn-lg btn-primary" href="{{ $href }}">Read more</a></p>
          </div>
        </div>
      </div>
    </div>

    {{ end }}
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#homeCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#homeCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>